addons:
  chrome: stable
before_install: npm install npm@latest --global
cache:
  directories:
    - $HOME/.npm
dist: xenial
env:
  global:
    - secure: dlhH5+QYKfK6lsVqo5o2WrMQ1g3tySN9WDUID3Gz9Nf5hePYmbDW+UZdtCMTf21dgCGcWjCSGl2viqY4za8+JAJJxwyNa0QezTmPiiZ96TfDiWiz08vo9ClPxE/zQ9m9d0UxpWy29I9u4srnMU1YHaQHXA9hOTGOX/K9OYrGVOXu3cKzndYT9ybspn4BnWSLMRIMUGTobJIMA+Ev8SsI3U92U2vU8XSdlVyTSUjmWJWGWtZlxh95wTQ4bvXYWTxL+jhPCX9jboL5Tq1ZW8Am1VpAFrSHFj8tCxOPDs6vsTHm0KcL4QFxJFJXMh5PV/Gnehg4tSXeCxmrBUJXPOPLbIsNdJkmvdGGaKgC5j9U6lKgQ/7jSAOCxHnyUI0I71jcX2CQfYYF8rgZplGcSFnifirGinr18dyPDCIbGcsSV+DZUGH2lFALw1AEZdt/5HdNJ/tFuwbM+FQyXDs3ep/Yh3JLH5PUWGvJyI4EEFDXEmwb3G/caMwzRYwAUKYl8HP9kWTzHfBHoIZt4KgAsLqSUn4vSfvHbFNZMiVV8MCX5i2E05/fw2BqTDsr1458ojDY9priRkKfmOblIyQ8l3QyklbK7HXvsM7TZrro1NnhY3r9zrGLmufuNpHW2sVT4bh+X3EVb54jiLcwu8KR/gPHbJGK6ej32to+mk78dagrZuM=
    - secure: pp1CJNOKKzE/OnMrOzdbfHtX67K6YO/u5CLs1z/HAvgnhwSx/+cxoAavu36lEKyI+TXTJosYrf2rPclaJ7vXWHDiesw+3i+Sid+L3saI6Nod5KUAPkbIZUaF0fuWe32NEmtB6NkXPGBoUY1YZEHAIX3gCQStaz5zOh61yCY/qLiqHBzugVOMFxN2PRPo8YXflQMzotP1YsuiKxTEm+4A3xAY6w6ceFPCy4c2oiPfvPY7x5z6x7sj1rxCemQnO99Jy7sh6cXBGXy74N+78Aw02piLIssolqrnBIYkEwzJUY5otN3fazxFYFYddlj+W1EYcz8DwT1oTMFL48Pvf0CJ70fmtJw4QDWPY7zAxVSeXFRuRE+flqe2QabNy6S8CLiQA8RslsgAdC4nX1IbV54fBWdZCMtikd8wArMLNkM3QsY32EHPfTJGFonbY+vn1Ispj4fqL6r3WZk2XRg+Nbrwlrkl55q5PrnETcJVKP+4lTCqQrlXoJNo9RoLsVrE+NfEYtjAj4MOyLU7G9KlWNXjI6xr3RPwwfPBXh1UqnoY1G2DNvU23pTpJBjjc32Xh2yOxvnLIMEPyArD8as7SYPSxzTBPb0TtRx6t2BF66uJAZ+5qJ6z/1hMF8WvGXFYA0kC4hKA5snaUy1OoALeJnkckvAwFXoV2oNBCwKCNu3/bcc=
    - secure: XNNQvkpsGkTY5zvXGEoIC18WsZIz3lfcQ4+gpZbOL0jpAGCFWbRrWiJFZUq+Rj6MwxqIIJTdHEjfG6ECX7ZuMUrIibf2Z7EA9jdGo8YwOeut2RqtgJVuY2CaqRaD9OFCI0tbVTkOpWJw4hPOvGaSZ4qbVm5dUeykAlQ2KmZT7HAwjZ89K7oqVoPgvbI0wiN/1rU2DmherCqySYufoElmn2jWsGdYmG4YIHYiYBkLgcuke8mF/PMiTs2xGdUt8s4BCECsNYu6rxJLoJBzdRGoFG2DeeCrvVJYK8OdQkbzBWBz9Uis5L+8tyTi1tkm1amNHf5uXM2bbrCOiVkzSfKtZLrLqpDKuHgMI0NdQW1zq+InmpPLXLJEHi7CbenLBr+lf6DXMmqUP4tSRSlPAUSO9gr6zdywGMkaI0bxSn4KAeDr+/GLB2qVK0Th3H5IzFnTFr+KtpKBbtdcOjvejzT5Mj5lHGC2gCRE9laZXBx3cpWCjkFRm8eBvFzp7ydMAnsv377tDfJJFZQqRoa6AIPXkFacFk5ed+gpczlDYPwqDr4+vvzVmf2XAsyp6DXeLkp2jhH86jPoF7Tkys5FmUQvol8p3+wwtFVEA2GAakhVe03T+4hQCA4oOQT/wFrFKfeIXRDVrdrOf3Q2FS4y9IVnzOofULDgNIl4SSLM1ESaD94=
    - secure: qm+azKAK1gFb6KbWdbpzDJb9ErUG0yiCtZ3ZkeWEtPU+0GbEuSfRmB6GeV3KyFt1GkgWr4Gjga1xIl4Fl94mDyunzX2TPIzVgtauKC7iGJoOI6gE/bEjIz1XiBAR/ezwg01pFXtYhLQ35eR3Qzsbnhv4xcHI3UBD+yBIkuIcGY4DjeRDK+3BXxWEKYl07A6ycgu9mcK7FUXweME750YPJRzsizvShamLas3tzJDa5nG2FrCtYv7zFeHWiZf2EI6L0mRwCj18BG0suVlEMfxK410QTGbtpaLetkUUIvJKbxEVJviOA7xAVd94uWXQmqcOukw9Rh7u5VtebeNvQgy4pAg9qScbF4tYyVIcRpHfQIYOcRL1u94ePU00J3ylSITRSP5sOdtNyde3g+xomwYh4udBtfV0uPepI/DZ9c6baGa4IXScv+e6vrRF6ftq+XWvTCfGoNh3V680HeoPteM1+JeYj+ii9E7JKoUo+OCDeeEw90gWHRzsU8QlcVOsUf2QkTuBsqoSjTjWHJRD57Yelv1FBkjssdKd2C3mt2R7qEpdsBy9gzd4RYyKXndJEdXIak4Z+fo5sNJNYPggi20ELQccKcYZ63uMlcdqITtld3Nb0s6tXhS79aGet8bxEhELTlEJxOm/5RHlTApV1NtVpRrEdZvqsKDMI7wxMFIzIB4=
    - secure: Hv2qO+L5j7jP6m+QdHqBXR3UfVhz1hiLfdJhzCTbiKszBuoo+1gDp+aUZ5HoQ3Mwqa1m1eQGh6jfPF2RL3J4XCpd31KbwgjIKl5qLI/sIGi+Y5ybt5S/7HMCIV8Iy4v9qP3+Bz5ao46LNe8yNI37Z3y308c2ip3CVJBFN6UOFwRdHvVHh7syD+WFa7rwlHGDD5HsanxFqJqQfBn2bzvx0t6cuL36AIhYlXoD8ABJ90UqaiWeXxUaVYe22XJ8W+Hk2J1yRZFjJ8rQPylwLu/wxWN1vAfiJxfTl6yCJlIaAsgW3PGUr1IHzHYUcnkef55HTIi4q0q9VB367jHD/mAPtDivCap487O3FsV35jVFui3jEJ44Lv8kLx9dsLuiOTtCV1J2JoS6aqsLMZuyjoAYN+nkqYsF65xzy6iLk9GUt5zuF8RrexDsL+IzwOKR909dzS0y2k9EnFIiYdO4I98iU40FU6AdHFzi91BfsTjbysch2DMlK1Knn5PQr1VXzC6+/1TYZHnSYHiovGVeD7UuhjfOIzazqOY1uIXD+I/kmJk5nX4zgoZ03rc0QrXMK+jWayf2p6Vj2r5WviEZ3TB75DzIWeOm6WSN82MX0eMz1jZBSiQ6OIwydTx551ZaFPpko+hIKlDmD1acMvg+Rra66PIbco2WvdcLluDLCHkCEcI=
    - secure: G8fWK76UK3OJyk3SeVQH/IN3M/zLlUC3QS2VTktlHG5N1dzGxbMGbRiQ+dYBOvLP/O9G6c7/gDHsf8CTmwQURcpBvyb99XKJ9CkYOB5VP2UJ3OiC2Fe+j0TD1sfunatTFzildhRn8uPB9oumBqah37pnxCuM6eOhKzBSLU9eZRB5IazyueGp3hIF9Fds2KKWnsWLBaxe7i1shE81pURNVNqCzdO2oKVQ+wMPzNATgo743MO05tEIc6lzaqu7jDNUcfWZM+LUakIHnHlvDm933ZOrDWJh5pcOCA5zsnFblmgjIrDcEuE/zPbWXSfoSDIj79j9Kpcv7Q33ZOVCGt3hTvjjVsOl7TkJpa87gNQtQyPriNGyYwbl9LW1Zuf7e0jYrVMkX1Xmjx2XIwg/HmKhR4sWfCCybEZwSdFw9v9ozXhlQ/BiJmDQ7RNYXcZAs7+YXZFdsARSB4B6M25cG766ys0hpKNKGh9sfhkmY93oK4/pFCCabWPZzShTfFSXNpxQ91A+E1R658J8KxVmur9nbSA2Fs7ywiDSY+IjGwdAtDvNkFREfpGZ4F5FMVl0zpjn3aX1pTd2F5TWVfvs4jXJL6bEdf+0/BhR7NHJ+uBeg+wVrMYjSvmOVpbv3SnJubJCE4bE85Jkb8RBeVFKDODPRO4xiORiswj0dxacFpxkcpU=
install: npm ci || (rm -rf node_modules && npm install)
language: node_js
node_js: 11
script:
  - npm test
  - grunt deploy-on-version-updates
